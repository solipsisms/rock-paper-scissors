<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id="round-results">Choose a move to start a game!</div>

    <script>

        let playerPoints = 0;
        let computerPoints = 0;
        let rounds = 0;

        //buttons
        const rock = document.createElement('button');
        rock.innerText = 'Rock';
        rock.addEventListener('click', () => {
            let computerMove = getComputerChoice();
            playRound("rock", computerMove);
        })
        document.body.appendChild(rock)

        const paper = document.createElement('button');
        paper.innerText = 'Paper';
        paper.addEventListener('click', () => {
            let computerMove = getComputerChoice();
            playRound("paper", computerMove);
        })
        document.body.appendChild(paper)

        const scissors = document.createElement('button');
        scissors.innerText = 'Scissors';
        scissors.addEventListener('click', () => {
            let computerMove = getComputerChoice();
            playRound("scissors", computerMove);
        })
        document.body.appendChild(scissors)

        const refresh = document.createElement('button');
        refresh.innerText = 'Restart';
        refresh.addEventListener('click', () => {
            location.reload();
        })
        document.body.appendChild(refresh);

        function getComputerChoice() {
            //possible moves the computer can make
            let moves = ["Rock", "Paper", "Scissors"];
            //choose a random move
            let move = Math.floor(Math.random() * moves.length);
            //return the move
            return moves[move];
        }

        function playRound(playerSelection, computerSelection) {
            //still more rounds to keep playing
            if (rounds < 5) {
                //computer wins
                if (playerSelection === "rock" && computerSelection === "Paper") {
                    computerPoints += 1;
                    rounds += 1;
                    document.getElementById("round-results").innerHTML = "The computer won this round. The current score is " + playerPoints + "-" + computerPoints;
                } else if (playerSelection === "paper" && computerSelection === "Scissors") {
                    computerPoints += 1;
                    rounds += 1;
                    document.getElementById("round-results").innerHTML = "The computer won this round. The current score is " + playerPoints + "-" + computerPoints;
                } else if (playerSelection === "scissors" && computerSelection === "Rock") {
                    computerPoints += 1;
                    rounds += 1;
                    document.getElementById("round-results").innerHTML = "The computer won this round. The current score is " + playerPoints + "-" + computerPoints;
                //player wins
                } else if (playerSelection === "rock" && computerSelection === "Scissors") {
                    playerPoints += 1;
                    rounds += 1;
                    document.getElementById("round-results").innerHTML = "The player won this round! The current score is " + playerPoints + "-" + computerPoints;
                } else if (playerSelection === "scissors" && computerSelection === "Paper") {
                    playerPoints += 1;
                    rounds += 1;
                    document.getElementById("round-results").innerHTML = "The player won this round! The current score is " + playerPoints + "-" + computerPoints;
                } else if (playerSelection === "paper" && computerSelection === "Rock") {
                    playerPoints += 1;
                    rounds += 1;
                    document.getElementById("round-results").innerHTML = "The player won this round! The current score is " + playerPoints + "-" + computerPoints;
                //tie
                } else {
                    document.getElementById("round-results").innerHTML = "Tie. The current score is " + playerPoints + "-" + computerPoints;
                }
            //max rounds, end gameplay
            } else {
                //computer wins the game
                if (computerPoints > playerPoints) {
                    document.getElementById("round-results").innerHTML = "The Computer won the game. The final score was " + playerPoints + "-" + computerPoints;
                }
                //player wins the game
                if (playerPoints > computerPoints) {
                    document.getElementById("round-results").innerHTML = "The player won the game! The final score was " + playerPoints + "-" + computerPoints;
                }
            }

        }
    </script>
</body>
</html>