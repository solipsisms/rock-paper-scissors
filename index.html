<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function getComputerChoice() {
            //randomly return 'Rock' 'Paper' or 'Scissors'
            //this is the function for the computers play

            let moves = ["Rock", "Paper", "Scissors"];
            //console.log(moves);
            let move = Math.floor(Math.random() * 3);
            //console.log(move);
            return moves[move];

        }

        function playRound(playerSelection, computerSelection) {
            //take two parameters, the moves of each of the players for a single round
            //return a string that declares the winner of the round -> "You Lose! Paper beats Rock"
            //make playerSelection case-insensitive
            //return results of function call, not console.log()
            // -> console.log(playRound(playerSelection, computerSelection));

            //let playerSelection = playerSelection.toLowerCase();
            //let playerSelection = playerSelection.charAt[0].toUpperCase();

            if (playerSelection)

            //computer wins
            if (playerSelection === "rock" && computerSelection === "Paper") {
                return "You Lose! Paper beats Rock";
            } else if (playerSelection === "paper" && computerSelection === "Scissors") {
                return "You Lose! Scissors beats Paper";
            } else if (playerSelection === "scissors" && computerSelection === "Rock") {
                return "You Lose! Rock beats Scissors";
            //player wins
            } else if (playerSelection === "rock" && computerSelection === "Scissors") {
                return "You Win! Rock beats Scissors";
            } else if (playerSelection === "scissors" && computerSelection === "Paper") {
                return "You win! Scissors beats Paper";
            } else if (playerSelection === "paper" && computerSelection === "Rock") {
                return "You win! Paper beats Rock";
            //tie
            } else {
                return "Tie.";
            }
        }

        function game() {
            //use playRound in here to play a 5 round game that keeps score and reports the winner or loser at the end (use the return string)
            //can use loops instead of calling function 5 times
            //use console.log() to display the results
            //use prompt to get input from the user

            //player, computer scores
            let finalResults = [0, 0];
            let moves = ["rock", "paper", "scissors"];

            for (let i = 1; i <= 5; i++) {
                //prompt user for their move
                let playerMove = prompt("Please choose Rock, Paper, or Scissors.");
                //if cancel or empty input
                if (playerMove === null || playerMove.trim() === "") {
                    alert("Game canceled.");
                    return;
                } else {
                    playerMove = playerMove.toLowerCase();
                } 
                if (!moves.includes(playerMove)) {
                        alert("Invalid input. Please choose Rock, Paper, or Scissors.");
                        continue;
                }
                
                //"prompt" computer for their move
                let computerMove = getComputerChoice();
                //console.log(computerMove);
                //playround
                let roundResults = playRound(playerMove, computerMove);
                //get returned results,
                if (roundResults.startsWith("You win")) {
                    finalResults[0] += 1;
                    alert(roundResults + ". " + "The current score is " + finalResults[0] + "-" + finalResults[1]);
                    //i++;
                } else if (roundResults.startsWith("You lose")) {
                    finalResults[1] += 1;
                    alert(roundResults + ". " + "The current score is " + finalResults[0] + "-" + finalResults[1]);
                    //i++;
                } else if (roundResults.startsWith("Tie")){
                    alert("Tie. Score and number of rounds will not be affected.")
                } else {
                    alert(roundResults);
                }
                //and print the message with current score with button
            }
            //when the game is over (five rounds have been played) print the final score and message of who won
            if (finalResults[0] > finalResults[1]) {
                alert("Player won! The final score was " + finalResults[0] + "-" + finalResults[1]);
            } else {
                alert("Computer won. The final score was " + finalResults[0] + "-" + finalResults[1]);
            }
        }
    </script>
</body>
</html>